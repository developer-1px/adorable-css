import { createGenerator } from "unocss"
import { describe, it, expect } from "vitest"
import { adorableCSS } from "./adorable-css-uno"

// UnoCSS 설정
const uno = createGenerator({
	...adorableCSS(),
})

async function generate(input: string) {
	const result = await uno.generate(input)
	return result.css
}

describe("Homepage AdorableCSS Classes", () => {
	const homepageClasses = [
		// from <script>
		"screen",
		"pack",
		"vbox",
		"gap(32)",
		"gradient(#667eea/#764ba2)",
		"text(center)",
		"relative",
		"overflow(hidden)",
		"font(64/1.1/700)",
		"c(#fff)",
		"opacity(.95)",
		"hover:scale(1.02)",
		"transition(.3s)",
		"font(24/1.4)",
		"opacity(.8)",
		"w(800)",
		"m(auto)",
		"hbox(center)",
		"gap(12)",
		"p(16/32)",
		"bg(#fff)",
		"c(#333)",
		"r(12)",
		"font(18/600)",
		"shadow(lg)",
		"hover:shadow(xl)",
		"hover:scale(1.05)",
		"pointer",
		"vbox",
		"gap(24)",
		"p(40)",
		"bg(#fff)",
		"r(16)",
		"shadow(md)",
		"hover:shadow(xl)",
		"hover:scale(1.02)",
		"transition(.3s)",
		"w(64)",
		"h(64)",
		"r(16)",
		"pack",
		"font(32)",
		"font(24/1.3/600)",
		"c(#333)",
		"font(16/1.6)",
		"c(#666)",
		"opacity(.9)",
		"w(fill)",
		"p(80/40)",
		"bg(#f8f9ff)",
		"bg(#fff)",
		"r(16)",
		"shadow(lg)",
		"overflow(hidden)",
		"hbox",
		"gap(12)",
		"p(20/24)",
		"bg(#2d3748)",
		"c(#fff)",
		"p(24)",
		"font(14/1.6)",
		"bg(#1a202c)",
		"c(#e2e8f0)",
		"overflow(scroll)",
		"fixed",
		"top(0)",
		"w(fill)",
		"hbox",
		"gap(auto)",
		"p(16/40)",
		"bg(#fff.9)",
		"backdrop(10)",
		"z(100)",
		"shadow(sm)",
		"font(24/700)",
		"c(#333)",
		"hover:c(#667eea)",
		"transition(.3s)",
		"font(16/500)",
		"c(#666)",
		"hover:c(#333)",
		"transition(.3s)",
		"p(8/16)",
		// from HTML body
		"hbox",
		"gap(32)",
		"hbox",
		"gap(24)",
		"hbox(center)",
		"gap(8)",
		"p(8/16)",
		"c(#666)",
		"hover:c(#333)",
		"transition(.3s)",
		"font(20)",
		"font(14/500)",
		"hbox(center)",
		"p(12/24)",
		"bg(#667eea)",
		"c(#fff)",
		"r(8)",
		"font(14/600)",
		"hover:bg(#5a6fd8)",
		"transition(.3s)",
		"absolute",
		"top(10%)",
		"left(10%)",
		"w(200)",
		"h(200)",
		"bg(#fff/.1)",
		"r(50%)",
		"blur(100)",
		"absolute",
		"top(60%)",
		"right(15%)",
		"w(150)",
		"h(150)",
		"bg(#fff/.1)",
		"r(50%)",
		"blur(80)",
		"vbox",
		"gap(32)",
		"z(10)",
		"mt(80)",
		"gradient(#ffd89b/#19547b)",
		"bg-clip-text",
		"hbox",
		"gap(24)",
		"mt(32)",
		"font(20)",
		"hbox(center)",
		"gap(12)",
		"p(16/32)",
		"b(2/#fff)",
		"c(#fff)",
		"r(12)",
		"font(18/600)",
		"hover:bg(#fff/.1)",
		"transition(.3s)",
		"pointer",
		"font(20)",
		"vbox",
		"gap(16)",
		"mt(48)",
		"w(600)",
		"bg(#fff/.1)",
		"r(16)",
		"p(24)",
		"backdrop(10)",
		"font(14/600)",
		"c(#fff)",
		"opacity(.8)",
		"bg(#2d3748)",
		"r(8)",
		"p(16)",
		"font(14/1.5)",
		"c(#e2e8f0)",
		"text(left)",
		"hbox",
		"gap(16)",
		"p(24)",
		"bg(#667eea)",
		"r(12)",
		"shadow(lg)",
		"font(18/600)",
		"c(#fff)",
		"w(fill)",
		"p(80/40)",
		"bg(#fff)",
		"vbox",
		"gap(64)",
		"w(1200)",
		"m(auto)",
		"vbox",
		"gap(16)",
		"text(center)",
		"font(48/1.2/700)",
		"c(#333)",
		"font(20/1.5)",
		"c(#666)",
		"w(600)",
		"m(auto)",
		"hbox",
		"gap(32)",
		"w(fill)",
		"bg(#667eea/.1)",
		"c(#667eea)",
		"bg(#48bb78/.1)",
		"c(#48bb78)",
		"bg(#ed8936/.1)",
		"c(#ed8936)",
		"hbox",
		"gap(32)",
		"w(fill)",
		"bg(#9f7aea/.1)",
		"c(#9f7aea)",
		"bg(#38b2ac/.1)",
		"c(#38b2ac)",
		"bg(#f56565/.1)",
		"c(#f56565)",
		"w(fill)",
		"p(80/40)",
		"bg(#f8f9ff)",
		"vbox",
		"gap(64)",
		"w(1200)",
		"m(auto)",
		"vbox",
		"gap(16)",
		"text(center)",
		"font(48/1.2/700)",
		"c(#333)",
		"font(20/1.5)",
		"c(#666)",
		"hbox",
		"gap(48)",
		"w(fill)",
		"w(fill)",
		"w(12)",
		"h(12)",
		"r(50%)",
		"bg(#ff5f56)",
		"w(12)",
		"h(12)",
		"r(50%)",
		"bg(#ffbd2e)",
		"w(12)",
		"h(12)",
		"r(50%)",
		"bg(#27ca3f)",
		"font(14/600)",
		"ml(12)",
		"c(#e2e8f0)",
		"vbox",
		"gap(16)",
		"w(fill)",
		"font(20/600)",
		"c(#333)",
		"vbox",
		"gap(24)",
		"p(32)",
		"bg(#fff)",
		"r(16)",
		"shadow(lg)",
		"hbox",
		"gap(16)",
		"w(64)",
		"h(64)",
		"r(12)",
		"bg(gradient(#667eea/#764ba2))",
		"pack",
		"font(24)",
		"c(#fff)",
		"vbox",
		"gap(4)",
		"font(20/600)",
		"c(#333)",
		"font(14)",
		"c(#666)",
		"font(16/1.5)",
		"c(#444)",
		"hbox",
		"gap(8)",
		"w(24)",
		"h(24)",
		"bg(#ffd700)",
		"r(50%)",
		"w(full)",
		"p(80/40)",
		"bg(#f8f9ff)",
		"vbox",
		"gap(64)",
		"w(1200)",
		"m(auto)",
		"text(center)",
		"vbox",
		"gap(16)",
		"font(48/1.2/700)",
		"c(#333)",
		"font(20/1.5)",
		"c(#666)",
		"hbox",
		"gap(32)",
		"w(fill)",
		"text(left)",
		"vbox",
		"gap(16)",
		"w(fill)",
		"p(32)",
		"bg(#fff)",
		"r(16)",
		"shadow(md)",
		"font(20/600)",
		"c(#333)",
		"font(16/1.6)",
		"c(#666)",
		"font(14)",
		"bg(#e2e8f0)",
		"p(2/6)",
		"r(4)",
		"bg(#1a202c)",
		"c(#e2e8f0)",
		"p(16)",
		"r(8)",
		"font(14/1.6)",
		"overflow(scroll)",
		"vbox",
		"gap(16)",
		"w(fill)",
		"p(32)",
		"bg(#fff)",
		"r(16)",
		"shadow(md)",
		"font(20/600)",
		"c(#333)",
		"font(16/1.6)",
		"c(#666)",
		"bg(#1a202c)",
		"c(#e2e8f0)",
		"p(16)",
		"r(8)",
		"font(14/1.6)",
		"overflow(scroll)",
		"w(fill)",
		"p(60/40)",
		"bg(#2d3748)",
		"c(#a0aec0)",
		"hbox",
		"gap(auto)",
		"w(1200)",
		"m(auto)",
		"vbox",
		"gap(16)",
		"font(20/600)",
		"c(#fff)",
		"font(14)",
		"hbox",
		"gap(24)",
		"hover:c(#fff)",
		"transition(.3s)",
	]

	const uniqueClasses = [...new Set(homepageClasses)]

	it.each(uniqueClasses)("should generate CSS for class: %s", async (className) => {
		const css = await generate(className)
		// `.bg-clip-text` is a custom utility in a <style> block, not generated by adorable-css.
		if (className === "bg-clip-text") {
			expect(css).toBe("")
		} else {
			expect(css).not.toBe("")
		}
	})
})
